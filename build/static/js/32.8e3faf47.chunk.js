(this.webpackJsonpsanus=this.webpackJsonpsanus||[]).push([[32],{2206:function(e,t,a){"use strict";a.r(t);var s=a(15),c=a(12),n=a(0),i=a.n(n),r=a(1302),l=a(1382),o=a(611),d=a(1363),j=a(1303),m=a(55),b=a(114),h=a(609),u=a(5),x=a(593),O=a(1307),p=a(1316),g=a(1384),f=a(1488),N=a(1489),v=a(1475),y=a(1447),w=a(1347),C=a(35),S=a(42),k=a(2196),z=a(76),T=a(54),R=a(1370),_=a(1367),I=a(1),L=Object(h.a)((function(e){return{button:{margin:e.spacing(0)}}})),E=function(e){var t=e.open,a=e.closeDone,c=e.session,i=(e.sid,e.img),r=L(),l=Object(n.useState)(!1),j=Object(s.a)(l,2);j[0],j[1];return Object(I.jsxs)(R.a,{onClose:a,open:t,maxWidth:"sm",fullWidth:!1,children:[Object(I.jsxs)("div",{className:"flex justify-between items-center pl-4 pr-2 py-2 bg-primary",children:[Object(I.jsx)("h4",{className:"m-0 text-white",children:"Confirmar sesi\xf3n completada"}),Object(I.jsx)(o.a,{onClick:a,children:Object(I.jsx)(d.a,{className:"text-white",children:"clear"})})]}),Object(I.jsxs)("div",{className:"p-4",children:[Object(I.jsxs)(x.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(I.jsx)(x.a,{item:!0,lg:2,md:2,sm:2,xs:12,children:Object(I.jsx)(g.a,{src:i,className:"ml-3 h-56 w-56"})}),Object(I.jsx)(x.a,{item:!0,lg:10,md:10,sm:10,xs:12,children:Object(I.jsxs)(x.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(I.jsxs)(x.a,{item:!0,lg:7,md:7,sm:7,xs:12,children:[Object(I.jsx)("h4",{className:"m-1 text-gray",children:c.user_name}),Object(I.jsx)(_.a,{}),Object(I.jsx)("h4",{className:"m-1 text-muted",children:c.user_email})]}),Object(I.jsx)(x.a,{item:!0,lg:5,md:5,sm:5,xs:12,children:Object(I.jsx)(p.a,{elevation:2,className:"bg-primary",variant:"outlined",children:Object(I.jsx)("h4",{className:"m-2 text-white text-center",children:c.tipo})})})]})}),Object(I.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(I.jsx)(p.a,{elevation:10,className:"bg-primary",children:Object(I.jsx)("h4",{className:"m-2 text-white text-center",children:new Date(c.start).toLocaleTimeString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})}),Object(I.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:"alignCenter",children:Object(I.jsx)(w.a,{variant:"contained",color:"secondary",size:"large",fullWidth:!0,className:r.button,startIcon:Object(I.jsx)(k.a,{}),children:"Confirmar sesi\xf3n"})})]}),Object(I.jsx)(_.a,{}),Object(I.jsx)("h6",{className:"mt-4 text-error",children:"Al hacer click est\xe1 confirmando que la sesi\xf3n se llev\xf3 a cabo exitosamente. "})]})]})};Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this};var D=Object(h.a)((function(e){e.palette;return{google:{color:"#ec412c"},twitter:{color:"#039ff5"},button:{margin:Object(c.a)(e,["palette"]).spacing(1)}}})),A=(new Date,(new Date).addHours(1),(new Date).addHours(3),function(e){var t=e.sessions,a=e.users,c=D(),i=Object(n.useState)(!1),r=Object(s.a)(i,2),l=r[0],o=r[1],j={weekday:"long",year:"numeric",month:"long",day:"numeric"},m=function(e){var t=a.id.indexOf(e);return t<=-1?console.log("No se tiene registro del usuario xd"):(console.log("Se encontr\xf3 un registro del usuario. Pasando imagen..."),a.url[t])},h=function(e){o(!1)};return Object(I.jsx)(x.a,{container:!0,spacing:2,direction:"column",children:t.data.map((function(e,a){return Object(I.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(I.jsxs)(p.a,{className:"p-5 ml-5 mr-5",elevation:12,children:[Object(I.jsxs)("div",{className:"flex justify-between mb-4",children:[Object(I.jsx)(g.a,{className:"h-56 w-56",src:m(e.user)}),Object(I.jsx)("div",{children:Object(I.jsx)(I.Fragment,{children:l&&Object(I.jsx)(E,{closeDone:h,open:l,session:e,sid:t.id[a],img:m(e.user)})})})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("h5",{className:"m-0 capitalize",children:null===e||void 0===e?void 0:e.user_name}),Object(I.jsxs)(x.a,{item:!0,children:[Object(I.jsx)("h4",{className:"text-muted mt-2",children:"Fecha pactada:"}),Object(I.jsx)("p",{className:"text-muted",children:new Date(null===e||void 0===e?void 0:e.start).toLocaleTimeString("es-ES",j)})]}),Object(I.jsx)("div",{className:"mb-4",children:Object(I.jsxs)(S.b,{className:"flex mb-1 items-center",to:"/",children:[Object(I.jsx)(b.g,{fontSize:"small",className:Object(u.default)("text-14",c.google)}),Object(I.jsx)("span",{className:"ml-2",children:null===e||void 0===e?void 0:e.user_email})]})}),Object(I.jsxs)("div",{className:"flex flex-wrap ",children:[Object(I.jsx)(w.a,{variant:"contained",size:"small",onClick:function(){!function(e){0===e&&o(!0)}(a)},startIcon:0==a?Object(I.jsx)(k.a,{}):Object(I.jsx)(d.a,{children:"face"}),className:Object(u.default)("bg-light-primary hover-bg-primary text-primary px-5",c.button),children:0==a?"Marcar como completada":"Contactar paciente"}),Object(I.jsx)(w.a,{size:"small",variant:"contained",startIcon:1==a?Object(I.jsx)(d.a,{children:"watch_later"}):Object(I.jsx)(d.a,{children:"visibility"}),className:Object(u.default)("bg-light-primary hover-bg-primary text-primary px-5 mr-1",c.button),children:1==a?"Posponer sesi\xf3n":"Ver perfil de usuario"})]})]})]})},a)}))})}),B=a(354),H=a(2088),F=a(1715),P=function(e){var t=e.users;return t.data.map((function(e,a){return Object(I.jsxs)(x.a,{item:!0,className:"flex items-center mb-4 ml-2 mt-3",children:[e.answered?Object(I.jsx)(F.a,{className:"primary",children:Object(I.jsx)("h4",{className:Object(u.default)("m-0 font-normal","Hombre"===e.gender?"text-primary":"text-error"),children:e.name.slice(0,2)})}):Object(I.jsx)(H.a,{badgeContent:"Nuevo",color:"secondary",children:Object(I.jsx)(F.a,{className:"primary",children:Object(I.jsx)("h4",{className:"text-secondary m-0 font-normal",children:e.name.slice(0,2)})})}),Object(I.jsxs)("div",{className:"ml-4",children:[Object(I.jsx)("h5",{className:"m-0 mb-1 font-medium",children:e.name}),Object(I.jsx)("h6",{className:Object(u.default)("m-0 font-normal",e.answered?"Hombre"===e.gender?"text-primary":"text-error":"text-secondary"),children:e.email}),Object(I.jsx)("p",{className:"m-0 text-muted",children:e.age})]})]},t.id[a])}))};Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this};var V=Object(h.a)((function(e){e.palette;return{google:{color:"#ec412c"},twitter:{color:"#039ff5"},button:{margin:Object(c.a)(e,["palette"]).spacing(1)}}})),G=[{name:"Jorge Rodriguez",location:"Guadalajara, Jalisco",time:new Date,num:1},{name:"Matha Benitez",location:"Monterrey, Nuevo Leon",time:(new Date).addHours(1),num:3},{name:"Carlos Martinez",location:"Aguascalientes, Aguascalientes",time:(new Date).addHours(3),num:2}],U=function(){var e=V(),t=Object(T.a)().user,a=Object(n.useState)(G),c=Object(s.a)(a,2);c[0],c[1];return Object(I.jsx)(x.a,{container:!0,spacing:3,direction:"column",children:Object(I.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(I.jsx)(p.a,{className:"p-5",children:Object(I.jsxs)("div",{className:"flex-column  items-center   mb-4",children:[Object(I.jsx)(d.a,{className:"w-56 mb-2 ml-2",children:"sentiment_dissatisfied"}),Object(I.jsx)("h3",{className:" capitalize pb-2",children:"Actualmente no tienes ninguna cita agendada"}),Object(I.jsx)("h5",{className:"text-muted",children:"Abre tus horarios para que los usuarios puedan seleccionar alguno de los disponibles"}),Object(I.jsx)("div",{className:" ",children:Object(I.jsx)(w.a,{variant:"contained",startIcon:Object(I.jsx)(d.a,{children:"watch_later"}),className:Object(u.default)("bg-light-primary hover-bg-primary text-primary px-5 mr-1",e.button),onClick:function(){return C.a.push("/"+t.uid+"/schedule")},children:"Abrir horarios"})})]})})})})},q=Object(h.a)((function(e){var t=e.palette,a=Object(c.a)(e,["palette"]);return{profileContent:{marginTop:-345,paddingTop:74,paddingRight:30,paddingLeft:4,"& .menu-button":{display:"none"},"@media only screen and (max-width: 959px)":{marginTop:-390,paddingTop:24,paddingRight:16,paddingLeft:16},"@media only screen and (max-width: 767px)":{marginTop:-410,paddingTop:16,paddingRight:16,paddingLeft:16,"& .menu-button":{display:"flex"}}},cardLeftVerticalLine:{"&:after":{content:'" "',position:"absolute",height:35,width:5,top:-30,background:t.primary.main}},cardGrayBox:{height:220,width:"calc(100% - 16px)",borderRadius:8,backgroundColor:"rgba(var(--body), 0.1)"},showAllPatients:{margin:a.spacing(1)}}})),M=function(){var e=q();return Object(I.jsxs)("div",{children:[Object(I.jsxs)(p.a,{className:"overflow-unset flex py-4",children:[Object(I.jsxs)("div",{className:"w-100 min-w-100 text-center",children:[Object(I.jsx)(F.a,{className:"relative mt--14",size:"medium",color:"primary",children:Object(I.jsx)(d.a,{children:"trending_up"})}),Object(I.jsx)("div",{className:"py-3"}),Object(I.jsx)(o.a,{size:"small",children:Object(I.jsx)(d.a,{children:"favorite"})}),Object(I.jsx)("p",{className:"pb-4 m-0",children:"65"}),Object(I.jsx)(o.a,{size:"small",children:Object(I.jsx)(d.a,{children:"chat"})}),Object(I.jsx)("p",{className:"m-0",children:"65"})]}),Object(I.jsxs)("div",{className:"flex-grow",children:[Object(I.jsxs)("div",{className:"flex items-center justify-between pr-4 pb-3",children:[Object(I.jsx)("h5",{className:"m-0 font-medium capitalize",children:"Entrada m\xe1s popular"}),Object(I.jsx)("span",{className:"text-muted",children:"12/03/2019"})]}),Object(I.jsx)(_.a,{className:"mb-4"}),Object(I.jsx)("h4",{className:"m-0 font-medium capitalize",children:"T\xe9cnicas de relajaci\xf3n"}),Object(I.jsx)("div",{className:e.cardGrayBox,children:Object(I.jsx)("img",{className:"h-full w-full border-radius-4",src:"/assets/images/photo-1.jpg",alt:"random"})}),Object(I.jsx)("p",{className:"m-0 pt-3",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"})]})]}),Object(I.jsx)("div",{className:"py-7"}),Object(I.jsxs)(p.a,{className:"overflow-unset flex py-4",children:[Object(I.jsxs)("div",{className:"w-100 min-w-100 text-center",children:[Object(I.jsx)(F.a,{className:Object(u.default)("relative mt--14",e.cardLeftVerticalLine),size:"medium",color:"primary",children:Object(I.jsx)(d.a,{children:"date_range"})}),Object(I.jsx)("div",{className:"py-3"}),Object(I.jsx)(o.a,{size:"small",children:Object(I.jsx)(d.a,{children:"favorite"})}),Object(I.jsx)("p",{className:"pb-4 m-0",children:"65"}),Object(I.jsx)(o.a,{size:"small",children:Object(I.jsx)(d.a,{children:"chat"})}),Object(I.jsx)("p",{className:"m-0",children:"65"})]}),Object(I.jsxs)("div",{className:"flex-grow",children:[Object(I.jsxs)("div",{className:"flex items-center justify-between pr-4 pb-3",children:[Object(I.jsx)("h5",{className:"m-0 font-medium capitalize",children:"\xdaltima entrada"}),Object(I.jsx)("span",{className:"text-muted",children:"12/03/2019"})]}),Object(I.jsx)(_.a,{}),Object(I.jsx)("p",{className:"m-0 pt-3",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"})]})]}),Object(I.jsx)("div",{className:"py-7"}),Object(I.jsxs)(p.a,{className:"overflow-unset flex py-4",children:[Object(I.jsxs)("div",{className:"w-100 min-w-100 text-center",children:[Object(I.jsx)(F.a,{className:Object(u.default)("relative mt--14",e.cardLeftVerticalLine),size:"medium",color:"primary",children:Object(I.jsx)(d.a,{children:"star_outline"})}),Object(I.jsx)("div",{className:"py-3"}),Object(I.jsx)(o.a,{size:"small",children:Object(I.jsx)(d.a,{children:"favorite"})}),Object(I.jsx)("p",{className:"pb-4 m-0",children:"65"}),Object(I.jsx)(o.a,{size:"small",children:Object(I.jsx)(d.a,{children:"chat"})}),Object(I.jsx)("p",{className:"m-0",children:"65"})]}),Object(I.jsxs)("div",{className:"flex-grow",children:[Object(I.jsxs)("div",{className:"flex items-center justify-between pr-4 pb-3",children:[Object(I.jsx)("h5",{className:"m-0 font-medium capitalize",children:"Entrada con mas likes"}),Object(I.jsx)("span",{className:"text-muted",children:"12/03/2019"})]}),Object(I.jsx)(_.a,{}),Object(I.jsx)("p",{className:"m-0 pt-3",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s"})]})]})]})},J=Object(h.a)((function(e){var t=e.palette,a=Object(c.a)(e,["palette"]);return{profileContent:{marginTop:-345,paddingTop:74,paddingRight:30,paddingLeft:4,"& .menu-button":{display:"none"},"@media only screen and (max-width: 959px)":{marginTop:-390,paddingTop:24,paddingRight:16,paddingLeft:16},"@media only screen and (max-width: 767px)":{marginTop:-410,paddingTop:16,paddingRight:16,paddingLeft:16,"& .menu-button":{display:"flex"}}},cardLeftVerticalLine:{"&:after":{content:'" "',position:"absolute",height:35,width:5,top:-30,background:t.primary.main}},cardGrayBox:{height:220,width:"calc(100% - 16px)",borderRadius:8,backgroundColor:"rgba(var(--body), 0.1)"},showAllPatients:{margin:a.spacing(1)}}})),K=function(e){var t=e.toggleSidenav,a=e.loading,c=e.users,i=(e.blogs,e.sessions),r=e.charges,l=(e.details,e.stripeId),j=J(),m=Object(T.a)(),b=Object(n.useState)([{title:"Pacientes",amount:"Cargando...",icon:"person",route:"/tid:/patients"},{title:"Sesiones agendadas",amount:"Cargando...",icon:"event",route:"/:tid/appointments"},{title:"Sesiones completadas",amount:"Cargando...",icon:"offline_pin",route:"/tid:/completedApp"}]),h=Object(s.a)(b,2),u=h[0],S=h[1];return Object(n.useEffect)((function(){a||function(){var e=0;i.data.forEach((function(t){"completada"===t.state&&(e+=1)})),S([{title:"Pacientes",amount:c.id.length,icon:"person",route:"/tid:/patients"},{title:"Sesiones agendadas",amount:i.data.length,icon:"event",route:"/:tid/appointments"},{title:"Sesiones completadas",amount:e,icon:"offline_pin",route:"/tid:/completedApp"}])}()}),[a]),Object(I.jsx)(n.Fragment,{children:Object(I.jsxs)("div",{className:j.profileContent,children:[Object(I.jsx)("div",{className:"flex justify-end menu-button",children:Object(I.jsx)(o.a,{onClick:t,children:Object(I.jsx)(d.a,{className:"text-white",children:"menu"})})}),Object(I.jsx)("div",{className:j.headerCardHolder,children:a?Object(I.jsx)(x.a,{container:!0,direction:"column",alignItems:"center",children:Object(I.jsx)(x.a,{item:!0,children:Object(I.jsx)(O.a,{color:"secondary"})})}):Object(I.jsx)(x.a,{container:!0,spacing:3,children:u.map((function(e){return Object(I.jsx)(x.a,{item:!0,lg:4,md:4,sm:12,xs:12,children:Object(I.jsxs)(p.a,{className:"bg-gray bg-default flex items-center justify-between p-2",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("span",{className:"text-light-white uppercase",children:e.title}),Object(I.jsx)("h4",{className:"font-normal text-white m-0 pt-2",children:e.amount})]}),Object(I.jsx)("div",{className:"w-56 h-36",children:Object(I.jsx)(o.a,{onClick:function(){return C.a.push(e.route)},children:Object(I.jsx)(d.a,{className:"text-white",children:e.icon})})})]})},e.title)}))})}),Object(I.jsx)("div",{className:"py-8"}),Object(I.jsxs)(x.a,{container:!0,spacing:3,children:[Object(I.jsxs)(x.a,{item:!0,lg:8,md:8,sm:12,xs:12,children:[Object(I.jsx)(p.a,{className:"pb-4",children:a?Object(I.jsx)("div",{className:"mt-10 mb-10",children:Object(I.jsx)(B.a,{color:"primary",size:32})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h4",{className:"text-32 px-4 pt-4 pb-0",children:"Tus pr\xf3ximas citas"}),0===i.data.length?Object(I.jsx)(U,{}):Object(I.jsx)(A,{sessions:i,users:c})]})}),Object(I.jsx)("div",{className:"py-6"}),Object(I.jsx)(M,{})]}),Object(I.jsx)(x.a,{item:!0,lg:4,md:4,sm:12,xs:12,container:!0,spacing:1,children:Object(I.jsx)(x.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(I.jsx)(p.a,{className:"p-4 h-full",children:a?Object(I.jsx)("div",{className:"mt-10 mb-10",children:Object(I.jsx)(B.a,{})}):Object(I.jsx)(I.Fragment,{children:0!==(null===c||void 0===c?void 0:c.id.length)?Object(I.jsxs)("div",{children:[Object(I.jsxs)("h4",{className:"font-medium text-muted",children:[Object(I.jsx)(d.a,{children:"group"})," Pacientes"]}),Object(I.jsx)("div",{style:{maxHeight:400,overflow:"auto"},children:Object(I.jsx)(x.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"stretch",children:Object(I.jsx)(P,{users:c})})})]}):Object(I.jsx)(I.Fragment,{children:r?Object(I.jsx)("div",{className:"mt-12",children:Object(I.jsxs)("div",{className:"flex-column items-center mb-6",children:[Object(I.jsx)(g.a,{className:"w-84 h-84",src:""}),Object(I.jsx)("h5",{className:"mt-4 mb-2",children:"No tienes pacientes"}),Object(I.jsx)("small",{className:"text-muted",children:"Por ahora est\xe1 tranquilo."}),Object(I.jsx)("small",{className:"text-muted",children:"Espera a que alguien agende."})]})}):Object(I.jsxs)("div",{className:"mt-12",children:[Object(I.jsxs)("div",{className:"flex-column items-center mb-6",children:[Object(I.jsx)(g.a,{className:"w-84 h-84",src:""}),Object(I.jsx)("h5",{className:"mt-4 mb-2",children:"No tienes pacientes, conecta tu cuenta a stripe."}),Object(I.jsx)("small",{className:"text-muted",children:"Un usuario podr\xe1 verte, hasta que conectes tu cuenta con stripe"})]}),Object(I.jsx)(f.a,{className:"mb-6",children:Object(I.jsx)(N.a,{children:Object(I.jsx)(v.a,{children:Object(I.jsx)(y.a,{children:Object(I.jsx)(w.a,{onClick:function(){console.log("Validando estado stripeId:",l),void 0===l?(console.log("connect"),z.a.post("/t/".concat(m.uid,"/connect"),{email:m.email}).then((function(e){window.location.href=e.data.url}))):(console.log("connectFailed"),z.a.post("/t/".concat(m.uid,"/connectFailed")).then((function(e){console.log(e,"connectFailed"),window.location.href=e.data.url})))},variant:"contained",color:"primary",className:"x-center",children:"Conecta con stripe"})})})})})]})})})})})})]}),Object(I.jsx)("div",{className:"py-2"})]})})},W=a(11),$=a(1629),Q=a(1628),X=a(1697),Y=a(339),Z=a(6),ee=a(1477),te=a.n(ee),ae=a(1443),se=a.n(ae),ce=a(1313),ne=a(592),ie={error:te.a},re=Object(h.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function le(e){var t=re(),a=e.className,s=e.message,n=e.onClose,i=e.variant,r=Object(c.a)(e,["className","message","onClose","variant"]),l=ie[i];return Object(I.jsx)(ce.a,Object(Z.a)({className:Object(u.default)(t[i],a),"aria-describedby":"client-snackbar",message:Object(I.jsxs)("span",{id:"client-snackbar",className:t.message,children:[Object(I.jsx)(l,{className:Object(u.default)(t.icon,t.iconVariant)}),s]}),action:[Object(I.jsx)(o.a,{"aria-label":"Close",color:"inherit",onClick:n,children:Object(I.jsx)(se.a,{className:t.icon})},"close")]},r))}var oe=Object(h.a)((function(e){return{margin:{margin:e.spacing(0)}}}));function de(e){e.charges;var t=e.details,a=Object(n.useState)(!1),c=Object(s.a)(a,2),i=(c[0],c[1],Object(n.useState)({open:!1,Transition:ne.a,vertial:"top",horizontal:"center"})),r=Object(s.a)(i,2),l=r[0],o=(r[1],Object(T.a)().user,oe());l.vertical,l.horizontal,l.open;return Object(I.jsx)("div",{className:"my-4",children:Object(I.jsx)(le,{anchorOrigin:{vertical:"bottom",horizontal:"center"},variant:"error",className:o.margin,TransitionComponent:l.Transition,message:Object(I.jsx)("span",{id:"message-id",children:t?"Tu cuenta est\xe1 conectada, y completaste tus datos. Pero no puedes recibir ingresos, por favor contacta al soporte":'No has completado tu informaci\xf3n para recibir pagos, presiona el bot\xf3n "conectar con stripe"'})})})}var je={error:te.a},me=Object(h.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function be(e){var t=me(),a=e.className,s=e.message,n=e.onClose,i=e.variant,r=Object(c.a)(e,["className","message","onClose","variant"]),l=je[i];return Object(I.jsx)(ce.a,Object(Z.a)({className:Object(u.default)(t[i],a),"aria-describedby":"client-snackbar",message:Object(I.jsxs)("span",{id:"client-snackbar",className:t.message,children:[Object(I.jsx)(l,{className:Object(u.default)(t.icon,t.iconVariant)}),s]}),action:[Object(I.jsx)(o.a,{"aria-label":"Close",color:"inherit",onClick:n,children:Object(I.jsx)(se.a,{className:t.icon})},"close")]},r))}var he=Object(h.a)((function(e){return{margin:{margin:e.spacing(0)}}}));function ue(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=(t[0],t[1],Object(n.useState)({open:!1,Transition:ne.a,vertial:"top",horizontal:"center"})),c=Object(s.a)(a,2),i=c[0],r=(c[1],Object(T.a)().user,he());i.vertical,i.horizontal,i.open;return Object(I.jsx)("div",{children:Object(I.jsx)(be,{anchorOrigin:{vertical:"bottom",horizontal:"center"},variant:"error",open:i.open,className:r.margin,TransitionComponent:i.Transition,message:Object(I.jsx)("span",{id:"message-id",children:'No has completado tu horario. Da click en "Horario" para empezar a realizarlo'})})})}var xe=a(2209);function Oe(e){return Object(I.jsx)(xe.a,Object(Z.a)({elevation:6,variant:"filled"},e))}var pe=Object(h.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function ge(){var e=pe();return Object(I.jsx)("div",{className:e.root,children:Object(I.jsx)(Oe,{severity:"success",children:" Puedes recibir ingresos"})})}var fe=Object(h.a)((function(e){var t=e.palette;Object(c.a)(e,["palette"]);return{stripeConnect:{background:t.primary.main,display:"inline-block",height:38,textDecoration:"none",width:180,borderRadius:4,mozBorderRadius:4,webkitBorderRadius:4,userSelect:"none",mozUserSelect:"none",webkitUserSelect:"none",msUserSelect:"none",webkitfontSmoothing:"antialiased"}}})),Ne=Object(h.a)((function(e){e.palette;var t=Object(c.a)(e,["palette"]);return{sidenav:Object(W.a)({marginTop:-345,paddingTop:74},t.breakpoints.down("sm"),{marginTop:-410})}})),ve=[{title:"Horarios",icon:"event",route:"schedule"},{title:"Pacientes",icon:"group",route:"patients"},{title:"Mis blogs",icon:"article",route:"myblogs"},{title:"Nuevo blog",icon:"edit",route:"newblog"},{title:"Configuraci\xf3n",icon:"settings",route:"settings"}],ye=function(e){var t=e.url,a=e.stripe,c=e.stripeId,r=e.details,l=e.charges,o=Ne(),j=(fe(),Object(n.useState)(!0)),m=Object(s.a)(j,2),b=m[0],h=m[1],O=Object(T.a)().user,f=i.a.useState(!1),N=Object(s.a)(f,2),v=N[0],y=N[1];function S(){y(!1)}var k=i.a.useState(!1),_=Object(s.a)(k,2);_[0],_[1];return Object(n.useEffect)((function(){z.a.get("/t/".concat(O.uid,"/schedule")).then((function(e){e.data.schedule&&h(0!==e.data.schedule.length)}))}),[]),Object(I.jsxs)("div",{children:[Object(I.jsxs)(R.a,{onClose:S,"aria-labelledby":"customized-dialog-title",open:v,children:[Object(I.jsx)(X.a,{id:"customized-dialog-title",onClose:S,children:"Notas de mis sesiones"}),Object(I.jsx)(Q.a,{dividers:!0,children:Object(I.jsx)(w.a,{variant:"contained",color:"primary",className:"x-center",size:"large",onClick:function(){return C.a.push("/:pid/notes")},children:Object(I.jsx)(Y.a,{gutterBottom:!0,children:"Crear nota"})})}),Object(I.jsx)($.a,{children:Object(I.jsxs)(w.a,{onClick:S,className:"bg-error",variant:"outlined",size:"small",children:[Object(I.jsx)(d.a,{children:"clear"}),"Cerrar"]})})]}),Object(I.jsxs)("div",{className:Object(u.default)("flex-column items-center",o.sidenav),children:[Object(I.jsx)(g.a,{className:"h-84 w-84 mb-5",src:t}),Object(I.jsx)("p",{className:"text-white",children:O.email}),Object(I.jsx)("div",{className:"py-3"}),Object(I.jsxs)("div",{className:"flex flex-wrap w-full px-12 mb-11",children:[Object(I.jsxs)("div",{className:"flex-grow",children:[Object(I.jsx)("p",{className:"uppercase text-light-white mb-1",children:"Ingresos"}),Object(I.jsx)("h4",{className:"font-medium text-white",children:"$ 20,495"})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("p",{className:"uppercase text-light-white mb-1",children:"Calificaci\xf3n"}),Object(I.jsxs)("h4",{className:"font-medium text-white",children:[Object(I.jsx)(d.a,{children:"star_rate"})," 4.75"]})]}),Object(I.jsx)("div",{})]}),Object(I.jsxs)("div",{className:"px-8 pt-2 bg-default",children:[Object(I.jsxs)(x.a,{container:!0,spacing:3,children:[Object(I.jsx)(w.a,{children:Object(I.jsx)(x.a,{item:!0,children:Object(I.jsx)(p.a,{className:"w-104 h-104 bg-primary flex justify-center items-center",children:Object(I.jsxs)("div",{className:"text-light-white text-center",children:[Object(I.jsx)(d.a,{children:"sentiment_very_satisfied"}),Object(I.jsx)("br",{}),Object(I.jsx)("span",{className:"pt-4",children:"Escritorio"})]})})})}),Object(I.jsx)(w.a,{onClick:function(){y(!0)},children:Object(I.jsx)(x.a,{item:!0,children:Object(I.jsx)(p.a,{className:"w-104 h-104  flex justify-center items-center",children:Object(I.jsxs)("div",{className:"text-light text-center",children:[Object(I.jsx)(d.a,{children:"content_paste"}),Object(I.jsx)("br",{}),Object(I.jsx)("span",{className:"pt-4",children:"Notas"})]})})})}),ve.map((function(e,t){return Object(I.jsx)(w.a,{onClick:function(){return C.a.push("/"+O.uid+"/"+e.route)},children:Object(I.jsx)(x.a,{item:!0,children:Object(I.jsx)(p.a,{className:"w-104 h-104 flex items-center justify-center",children:Object(I.jsxs)("div",{className:"text-light text-center",children:[Object(I.jsx)(d.a,{children:e.icon}),Object(I.jsx)("br",{}),Object(I.jsx)("span",{className:"pt-4",children:e.title})]})})})},t)}))]}),Object(I.jsx)("div",{className:"py-4"}),Object(I.jsx)(p.a,{className:"flex items-center justify-center text-primary",children:Object(I.jsxs)(w.a,{className:o.socialButton,children:[Object(I.jsx)(d.a,{children:"exit_to_app"}),Object(I.jsx)("h5",{className:"ml-8 text-primary font-medium mb-0",children:"Comenzar la pr\xf3xima sesi\xf3n"})]})}),Object(I.jsx)(p.a,{className:"flex items-center mt-2 justify-center text-primary",children:l?Object(I.jsx)(ge,{}):Object(I.jsx)(w.a,{fullWidth:!0,onClick:function(){console.log("Validando estado stripeId:",c),a?c&&""!==c&&(console.log("connectFailed"),z.a.post("/t/".concat(O.uid,"/connectFailed")).then((function(e){window.location.href=e.data.url}))):(console.log("no hay ninguna cuenta"),z.a.post("/t/".concat(O.uid,"/connect"),{email:O.email}).then((function(e){window.location.href=e.data.url})))},children:Object(I.jsx)("h5",{children:"Conectar con stripe"})})}),Object(I.jsx)("div",{className:"py-2"})]})]}),l?null:Object(I.jsx)(de,{details:r,charges:l}),b?null:Object(I.jsx)(ue,{})]})},we=Object(h.a)((function(e){e.palette,Object(c.a)(e,["palette"]);return{headerBG:{height:345,"@media only screen and (max-width: 959px)":{height:400}}}}));t.default=Object(j.a)({},{withTheme:!0})((function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(T.a)().user,j=Object(n.useState)(),h=Object(s.a)(j,2),x=h[0],O=h[1],p=Object(n.useState)(),g=Object(s.a)(p,2),f=g[0],N=g[1],v=Object(n.useState)(),y=Object(s.a)(v,2),w=y[0],C=y[1],S=Object(n.useState)(),k=Object(s.a)(S,2),R=k[0],_=k[1],L=Object(m.a)(),E=we(),D=Object(r.a)(L.breakpoints.down("sm")),A=Object(n.useState)(!0),B=Object(s.a)(A,2),H=B[0],F=B[1],P=Object(n.useState)(),V=Object(s.a)(P,2),G=V[0],U=V[1],q=Object(n.useState)(),M=Object(s.a)(q,2),J=M[0],W=M[1],$=Object(n.useState)(),Q=Object(s.a)($,2),X=Q[0],Y=Q[1],Z=Object(n.useState)(),ee=Object(s.a)(Z,2),te=ee[0],ae=(ee[1],Object(n.useState)()),se=Object(s.a)(ae,2),ce=se[0],ne=se[1],ie=Object(n.useState)(5),re=Object(s.a)(ie,2),le=re[0],oe=re[1],de=function(){c(!a)},je=function(){oe((function(e){return e-1}))};return Object(n.useEffect)((function(){c(!D)}),[D]),Object(n.useEffect)((function(){console.log(le),0===le&&F(!1)}),[le]),Object(n.useEffect)((function(){z.a.get("/t/".concat(i.uid,"/u")).then((function(e){console.log("OK: Usuarios obtenidos"),W(e.data),je()})).catch((function(e){console.log("ERROR: Usuarios NO obtenida",e),W(void 0),je()})),z.a.get("/t/".concat(i.uid,"/s/uncompleted")).then((function(e){console.log("OK: Sesiones obtenidas"),U(e.data),je()})).catch((function(e){console.log("ERROR: Sesiones incompletas NO obtenida",e),U(void 0),je()})),z.a.get("/t/".concat(i.uid,"/b")).then((function(e){console.log("OK: Blogs obtenidos"),Y(e.data),je()})).catch((function(e){console.log("ERROR: Blogs NO obtenidos",e),Y(void 0),je()})),z.a.get("/t/".concat(i.uid,"/image")).then((function(e){console.log("OK: Imagen obtenida"),ne(e.data.url),je()})).catch((function(e){console.log("ERROR: Imagen NO obtenida",e),ne(void 0),je()})),z.a.get("/t/".concat(i.uid,"/reAuth")).then((function(e){console.log(e,"reAuth"),!1===e.data?(console.log("No existe una cuenta"),O(e.data),je()):0==e.data.details_submitted&&0==e.data.charges_enabled?(console.log("No se han completado los datos en stripe o no existe una cuenta, y por lo tanto no est\xe1n disponibles los cargos"),N(e.data.id),C(e.data.details_submitted),_(e.data.charges_enabled),O(!1),je()):e.data.charges_enabled&&e.data.details_submitted&&(console.log("Cargos disponibles"),N(e.data.id),C(e.data.details_submitted),_(e.data.charges_enabled),O(!0),je())})).catch((function(e){console.log("ERROR: ReAuth ha fallado",e),je()}))}),[]),Object(I.jsx)("div",{className:"relative",children:Object(I.jsxs)(b.n,{children:[Object(I.jsxs)(b.m,{width:"300px",open:a,toggleSidenav:de,children:[Object(I.jsx)("div",{className:Object(u.default)("bg-primary text-right",E.headerBG),children:Object(I.jsx)(l.a,{smUp:!0,children:Object(I.jsx)(o.a,{onClick:de,children:Object(I.jsx)(d.a,{className:"text-white",children:"clear"})})})}),Object(I.jsx)(ye,{details:w,charges:R,stripeId:f,stripe:x,url:ce,therapist:te,loading:H})]}),Object(I.jsxs)(b.o,{open:a,children:[Object(I.jsx)("div",{className:Object(u.default)("bg-primary",E.headerBG)}),Object(I.jsx)(K,{details:w,charges:R,stripeId:f,stripe:x,toggleSidenav:de,loading:H,users:J,blogs:X,sessions:G})]})]})})}))}}]);