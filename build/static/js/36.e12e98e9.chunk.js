(this.webpackJsonpsanus=this.webpackJsonpsanus||[]).push([[36],{2195:function(e,t,a){"use strict";a.r(t);var c=a(6),n=a(15),i=a(0),s=a(114),l=a(593),o=a(1347),r=a(1363),j=a(609),b=a(54),d=a(28),u=a(5),m=a(35),O=a(40),g=a(76),h=a(1),x=Object(j.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"}}}));t.default=function(){var e=x(),t=Object(i.useState)(),a=Object(n.a)(t,2),j=a[0],p=a[1],f=Object(i.useState)(!0),v=Object(n.a)(f,2),N=(v[0],v[1]),y=Object(b.a)().user,w=Object(O.h)().search,S=new URLSearchParams(w).get("bid");Object(i.useEffect)((function(){g.a.get("/b/"+S).then((function(e){p(e.data),N(!1)}))}),[]);var C=Object(h.jsx)("div",{className:"image-container",children:"Seleccione una imagen para la vista previa"});(null===j||void 0===j?void 0:j.img)&&(C=Object(h.jsxs)("div",{className:"image-container",children:[Object(h.jsx)("img",{src:j.img,alt:"icon",width:"200"})," "]}));return Object(h.jsxs)("div",{className:"m-sm-30",children:[Object(h.jsx)("div",{className:"mb-sm-30",children:Object(h.jsx)(s.a,{routeSegments:[{name:"Blogs",path:"/"+y.uid+"/myblogs"},{name:"Nueva entrada"}]})}),Object(h.jsx)(d.ValidatorForm,{onSubmit:function(){console.log(j),g.a.put("/b/"+S,{blogdata:Object(c.a)({},j)}).then((function(e){console.log(e.data),m.a.push("/"+y.uid+"/myblogs")})).catch((function(e){console.error(e)}))},children:Object(h.jsxs)(l.a,{container:!0,spacing:1,children:[Object(h.jsx)(l.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(h.jsx)(d.TextValidator,{className:"mb-4 w-full",label:"Titulo de la nueva entrada",onChange:function(e){p(Object(c.a)(Object(c.a)({},j),{},{title:e.target.value}))},value:null===j||void 0===j?void 0:j.title,type:"text",name:"title"})}),Object(h.jsx)(l.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(h.jsx)(s.t,{content:null===j||void 0===j?void 0:j.content,handleContentChange:function(e){p(Object(c.a)(Object(c.a)({},j),{},{content:e}))},placeholder:"Escribe aqu\xed..."})}),Object(h.jsxs)(l.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:[Object(h.jsx)("input",{accept:"image/*",className:e.input,id:"text-button-file",onChange:function(e){p(Object(c.a)(Object(c.a)({},j),{},{imgBlob:e.target.files[0]}));var t=new FileReader;t.onloadend=function(){console.log(j),p(Object(c.a)(Object(c.a)({},j),{},{img:t.result}))},t.readAsDataURL(e.target.files[0]),C=Object(h.jsxs)("div",{className:"image-container",children:[Object(h.jsx)("img",{src:j.img,alt:"icon",width:"200"})," "]})},type:"file"}),Object(h.jsxs)("label",{htmlFor:"text-button-file",children:[Object(h.jsxs)(o.a,{component:"span",size:"large",color:"secondary",variant:"contained",className:e.button,children:[Object(h.jsx)(r.a,{children:"upload"}),"Upload"]}),C]})]}),Object(h.jsx)(l.a,{item:!0,flex:!0,lg:6,md:6,sm:12,xs:12,children:Object(h.jsxs)(o.a,{className:Object(u.default)("uppercase ml-auto",e.button),size:"large",color:"primary",variant:"contained",type:"submit",children:[Object(h.jsx)(r.a,{children:"send"}),Object(h.jsx)("span",{className:"pl-8 capitalize",children:"Publicar"})]})})]})})]})}}}]);