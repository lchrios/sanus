(this.webpackJsonpsanus=this.webpackJsonpsanus||[]).push([[35],{2198:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(15),i=a(0),s=a(114),l=a(1347),o=a(593),r=a(1363),d=(a(53),a(609)),b=a(54),j=a(28),m=a(5),p=a(35),u=a(76),g=a(1),h=Object(d.a)((function(e){return{button:{margin:e.spacing(1)},input:{display:"none"}}}));t.default=function(){var e=h(),t=Object(i.useState)({title:"",img:"",imgFile:"",content:'<h1>Iknelia | Crea tu propio post</h1><p><a href="http://localhost:3000/dashboard/analytics" target="_blank">en Iknelia</a><p>'}),a=Object(c.a)(t,2),d=a[0],O=a[1],f=Object(b.a)().user,x=Object(g.jsx)("div",{className:"image-container",children:"Seleccione una imagen para la vista previa"});d.img&&(x=Object(g.jsxs)("div",{className:"image-container",children:[Object(g.jsx)("img",{src:d.img,alt:"icon",width:"200"})," "]}));return Object(g.jsxs)("div",{className:"m-sm-30",children:[Object(g.jsx)("div",{className:"mb-sm-30",children:Object(g.jsx)(l.a,{variant:"contained",color:"secondary",onClick:function(){return p.a.push("/"+f.uid+"/dashboard")},children:"Volver al escritorio"})}),Object(g.jsx)(j.ValidatorForm,{children:Object(g.jsxs)(o.a,{flex:!0,justify:"flex-end",container:!0,spacing:1,children:[Object(g.jsx)(o.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(g.jsx)(j.TextValidator,{className:"mb-4 w-full",label:"Titulo de la nueva entrada",onChange:function(e){O(Object(n.a)(Object(n.a)({},d),{},{title:e.target.value}))},type:"text",name:"title"})}),Object(g.jsx)(o.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:Object(g.jsx)(s.t,{content:d.content,handleContentChange:function(e){O(Object(n.a)(Object(n.a)({},d),{},{content:e}))},placeholder:"Escribe aqu\xed..."})}),Object(g.jsxs)(o.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:[Object(g.jsx)("input",{accept:"image/*",className:e.input,id:"text-button-file",onChange:function(e){O(Object(n.a)(Object(n.a)({},d),{},{imgFile:e.target.files[0]}));var t=new FileReader;t.onloadend=function(){O(Object(n.a)(Object(n.a)({},d),{},{imgBLOB:t.result}))},t.readAsDataURL(e.target.files[0]),x=Object(g.jsxs)("div",{className:"image-container",children:[Object(g.jsx)("img",{src:d.img,alt:"icon",width:"200"})," "]})},type:"file"}),Object(g.jsxs)("label",{htmlFor:"text-button-file",children:[Object(g.jsxs)(l.a,{component:"span",size:"large",color:"secondary",variant:"contained",className:e.button,children:[Object(g.jsx)(r.a,{children:"upload"}),"Upload"]}),x]})]}),Object(g.jsx)(o.a,{item:!0,flex:!0,lg:6,md:6,sm:12,xs:12,children:Object(g.jsxs)(l.a,{className:Object(m.default)("uppercase ml-auto",e.button),size:"large",color:"primary",variant:"contained",type:"submit",onClick:function(){!function(){var e={title:d.title,content:d.content,date:(new Date).toISOString(),author:f.uid,likes:[],comments:[],img:["https://firebasestorage.googleapis.com/v0/b/iknelia-3cd8e.appspot.com/o/blogs%2F1.jpg?alt=media&token=514d6471-8353-421c-9b8e-f9d51216eaf4","https://firebasestorage.googleapis.com/v0/b/iknelia-3cd8e.appspot.com/o/blogs%2F2.jpg?alt=media&token=b62b18d7-c8f4-434e-9b47-3dd5b87769e7","https://firebasestorage.googleapis.com/v0/b/iknelia-3cd8e.appspot.com/o/blogs%2F3.jpg?alt=media&token=763f7190-0993-4f72-a20f-cbc0a1130cbf"][Math.floor(Math.random()*Math.random()*100%3)]};u.a.post("/t/".concat(f.uid,"/b"),{blogdata:Object(n.a)({},e)}).then((function(){p.a.push("/"+f.uid+"/myblogs")}))}()},children:[Object(g.jsx)(r.a,{children:"send"}),Object(g.jsx)("span",{className:"pl-8 capitalize",children:"Publicar"})]})})]})})]})}}}]);